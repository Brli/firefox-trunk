Index: firefox-trunk-21.0~a1~hg20130113r118722/testing/xpcshell/runxpcshelltests.py
===================================================================
--- firefox-trunk-21.0~a1~hg20130113r118722.orig/testing/xpcshell/runxpcshelltests.py	2013-01-14 09:36:47.382212307 +0000
+++ firefox-trunk-21.0~a1~hg20130113r118722/testing/xpcshell/runxpcshelltests.py	2013-01-14 09:36:47.374212308 +0000
@@ -745,6 +745,10 @@
     if "appname" in self.mozInfo:
       appDirKey = self.mozInfo["appname"] + "-appdir"
 
+    # Allow us to skip tests that require write access to the application directory
+    if not os.access(self.appPath if self.appPath != None else self.xrePath, os.W_OK):
+      mozinfo.update({'appDirReadonly': True})
+
     # We have to do this before we build the test list so we know whether or
     # not to run tests that depend on having the node spdy server
     self.trySetupNode()

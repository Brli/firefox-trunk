Index: firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/bugs/reftest.list
===================================================================
--- firefox-trunk-20.0~a1~hg20121121r113867.orig/layout/reftests/bugs/reftest.list	2012-11-21 23:22:21.000000000 +0000
+++ firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/bugs/reftest.list	2012-11-23 01:04:05.801894680 +0000
@@ -1314,8 +1314,8 @@
 != 481948-2.html 481948-2-ref.html
 fails-if(Android) random-if(winWidget) fails-if(gtk2Widget) == 481948-3.html 481948-3-ref.html # questionable test, see bug 488364
 == 482398-1.html 482398-1-ref.html
-random-if(d2d) == 482592-1a.xhtml 482592-1-ref.html # bug 586771
-random-if(d2d) == 482592-1b.xhtml 482592-1-ref.html # bug 586771
+fails == 482592-1a.xhtml 482592-1-ref.html # bug 586771
+fails == 482592-1b.xhtml 482592-1-ref.html # bug 586771
 random-if(winWidget) == 482659-1a.html 482659-1-ref.html
 == 482659-1b.html 482659-1-ref.html
 == 482659-1c.html 482659-1-ref.html
@@ -1631,7 +1631,7 @@
 HTTP(..) == 621253-2-externalFilter.html 621253-2-ref.html
 == 621253-2-internalFilter.html 621253-2-ref.html
 fails-if(Android) HTTP(..) == 619511-1.html 619511-1-ref.html
-random-if(winWidget) fuzzy-if(OSX==10.8,19,17) == 621918-1.svg 621918-1-ref.svg # 1-pixel diacritic positioning discrepancy in rotated text (may depend on platform fonts)
+fails == 621918-1.svg 621918-1-ref.svg # 1-pixel diacritic positioning discrepancy in rotated text (may depend on platform fonts)
 random-if(winWidget) HTTP(..) == 621918-2.svg 621918-2-ref.svg # same 1px issue as above, and HTTP(..) for filters.svg, used to mask antialiasing issues where glyphs touch
 fuzzy-if(d2d,5,1) == 622585-1.html 622585-1-ref.html # bug 789402
 fails-if(Android) == 625409-1.html 625409-1-ref.html
Index: firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/text-overflow/reftest.list
===================================================================
--- firefox-trunk-20.0~a1~hg20121121r113867.orig/layout/reftests/text-overflow/reftest.list	2012-11-21 23:22:23.000000000 +0000
+++ firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/text-overflow/reftest.list	2012-11-23 01:05:56.125898582 +0000
@@ -7,7 +7,7 @@
 fuzzy-if(OSX==10.8,1,1) HTTP(..) == anonymous-block.html anonymous-block-ref.html
 HTTP(..) == false-marker-overlap.html false-marker-overlap-ref.html
 HTTP(..) == visibility-hidden.html visibility-hidden-ref.html
-HTTP(..) == block-padding.html block-padding-ref.html
+fails HTTP(..) == block-padding.html block-padding-ref.html
 HTTP(..) == quirks-decorations.html quirks-decorations-ref.html
 HTTP(..) == quirks-line-height.html quirks-line-height-ref.html
 HTTP(..) == standards-decorations.html standards-decorations-ref.html
@@ -18,7 +18,7 @@
 skip-if(Android) == clipped-elements.html clipped-elements-ref.html
 HTTP(..) == theme-overflow.html theme-overflow-ref.html
 HTTP(..) == table-cell.html table-cell-ref.html
-HTTP(..) == two-value-syntax.html two-value-syntax-ref.html
+fails HTTP(..) == two-value-syntax.html two-value-syntax-ref.html
 HTTP(..) == single-value.html single-value-ref.html 
-HTTP(..) == atomic-under-marker.html atomic-under-marker-ref.html
+fails HTTP(..) == atomic-under-marker.html atomic-under-marker-ref.html
 fuzzy(1,702) skip-if(Android) HTTP(..) == xulscroll.html xulscroll-ref.html
Index: firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/first-letter/reftest.list
===================================================================
--- firefox-trunk-20.0~a1~hg20121121r113867.orig/layout/reftests/first-letter/reftest.list	2012-11-21 23:22:21.000000000 +0000
+++ firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/first-letter/reftest.list	2012-11-23 01:07:39.197902225 +0000
@@ -35,7 +35,7 @@
 != 229764-1.html 229764-ref.html
 == 229764-2.html 229764-ref.html
 == 329069-1.html 329069-1-ref.html
-== 329069-2.html 329069-2-ref.html
+fails == 329069-2.html 329069-2-ref.html
 == 329069-3.html 329069-3-ref.html
 == 329069-4.html 329069-4-ref.html
 fails-if(!cocoaWidget) == 329069-5.html 329069-5-ref.html # bug 603710
Index: firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/flexbox/reftest.list
===================================================================
--- firefox-trunk-20.0~a1~hg20121121r113867.orig/layout/reftests/flexbox/reftest.list	2012-11-21 23:22:21.000000000 +0000
+++ firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/flexbox/reftest.list	2012-11-23 01:08:23.685903800 +0000
@@ -9,7 +9,7 @@
 fails test-pref(layout.css.flexbox.enabled,true) == flexbox-align-self-baseline-horiz-2.xhtml  flexbox-align-self-baseline-horiz-2-ref.xhtml # bug 793456, and possibly others
 # This one fails on windows R (but not Ru, strangely). On Windows R, the
 # single-line <label> flex item has a different background size in test vs. ref
-random-if(winWidget) test-pref(layout.css.flexbox.enabled,true) == flexbox-align-self-baseline-horiz-3.xhtml  flexbox-align-self-baseline-horiz-3-ref.xhtml # XXXdholbert investigate
+fails test-pref(layout.css.flexbox.enabled,true) == flexbox-align-self-baseline-horiz-3.xhtml  flexbox-align-self-baseline-horiz-3-ref.xhtml # XXXdholbert investigate
 # XXXdholbert This test needs the flexbox pref to be enabled _at startup time_
 # (when we parse ua.css) in order to pass -- so it'll fail until we enable the
 # flexbox pref by default (bug 783409):
Index: firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/font-face/reftest.list
===================================================================
--- firefox-trunk-20.0~a1~hg20121121r113867.orig/layout/reftests/font-face/reftest.list	2012-11-21 23:22:21.000000000 +0000
+++ firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/font-face/reftest.list	2012-11-23 01:09:47.349906757 +0000
@@ -27,8 +27,8 @@
 # assumes AAT fonts are only supported on MacOS
 random-if(cocoaWidget) HTTP(..) == src-list-format-7.html src-list-format-2-ref.html
 random-if(!cocoaWidget) HTTP(..) == src-list-format-7.html src-list-format-3-ref.html
-fails-if(Android) == src-list-local-full.html src-list-local-full-ref.html
-fails-if(Android) == src-list-local-full-quotes.html src-list-local-full-ref.html
+fails == src-list-local-full.html src-list-local-full-ref.html
+fails == src-list-local-full-quotes.html src-list-local-full-ref.html
 HTTP(..) == src-list-local-fallback.html src-list-local-fallback-ref.html
 
 # data url tests (these don't need the HTTP server)
Index: firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/forms/reftest.list
===================================================================
--- firefox-trunk-20.0~a1~hg20121121r113867.orig/layout/reftests/forms/reftest.list	2012-11-21 23:22:22.000000000 +0000
+++ firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/forms/reftest.list	2012-11-23 01:10:46.853908863 +0000
@@ -25,7 +25,7 @@
 fails-if(Android) == textbox-setsize.xul textbox-setsize-ref.xul
 fails-if(Android) == textarea-resize.html textarea-resize-ref.html
 # an offset seems to apply to the native resizer on windows so skip this test for now
-fails-if(Android) skip-if(winWidget) == textarea-resize-background.html textarea-resize-background-ref.html
+fails skip-if(winWidget) == textarea-resize-background.html textarea-resize-background-ref.html
 fails-if(Android) != textarea-ltr.html textarea-rtl.html
 fails-if(Android) != textarea-ltr-scrollbar.html textarea-rtl-scrollbar.html
 fails-if(Android) != textarea-in-ltr-doc-scrollbar.html textarea-in-rtl-doc-scrollbar.html
Index: firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/mathml/reftest.list
===================================================================
--- firefox-trunk-20.0~a1~hg20121121r113867.orig/layout/reftests/mathml/reftest.list	2012-11-21 23:22:22.000000000 +0000
+++ firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/mathml/reftest.list	2012-11-23 01:11:27.485910302 +0000
@@ -29,7 +29,7 @@
 == mfenced-7.html mfenced-7-ref.html
 != mfenced-8.html mfenced-8-ref.html
 == mfenced-9.html mfenced-9-ref.html
-fails-if(winWidget) == mfenced-10.html mfenced-10-ref.html
+fails == mfenced-10.html mfenced-10-ref.html
 == mi-mathvariant-1.xhtml mi-mathvariant-1-ref.xhtml
 == mi-mathvariant-2.xhtml mi-mathvariant-2-ref.xhtml
 != non-spacing-accent-1.xhtml non-spacing-accent-1-ref.xhtml
Index: firefox-trunk-20.0~a1~hg20121121r113867/parser/htmlparser/tests/reftest/reftest.list
===================================================================
--- firefox-trunk-20.0~a1~hg20121121r113867.orig/parser/htmlparser/tests/reftest/reftest.list	2012-11-21 23:22:33.000000000 +0000
+++ firefox-trunk-20.0~a1~hg20121121r113867/parser/htmlparser/tests/reftest/reftest.list	2012-11-23 01:13:19.697914269 +0000
@@ -1,5 +1,5 @@
 == bug535530-1.html bug535530-1-ref.html
-== view-source:bug535530-2.html bug535530-2-ref.html
+fails == view-source:bug535530-2.html bug535530-2-ref.html
 == bug566280-1.html bug566280-1-ref.html
 == bug577418-1.html bug577418-1-ref.html
 == bug582788-1.html bug582788-1-ref.html
Index: firefox-trunk-20.0~a1~hg20121121r113867/editor/reftests/reftest.list
===================================================================
--- firefox-trunk-20.0~a1~hg20121121r113867.orig/editor/reftests/reftest.list	2012-11-21 23:22:13.000000000 +0000
+++ firefox-trunk-20.0~a1~hg20121121r113867/editor/reftests/reftest.list	2012-11-23 01:19:37.861927643 +0000
@@ -64,7 +64,7 @@
 needs-focus == caret_after_reframe.html caret_after_reframe-ref.html
 == nobogusnode-1.html nobogusnode-ref.html
 == nobogusnode-2.html nobogusnode-ref.html
-== spellcheck-hyphen-valid.html spellcheck-hyphen-valid-ref.html
+fails == spellcheck-hyphen-valid.html spellcheck-hyphen-valid-ref.html
 fails-if(Android) != spellcheck-hyphen-invalid.html spellcheck-hyphen-invalid-ref.html
 == spellcheck-slash-valid.html spellcheck-slash-valid-ref.html
 == spellcheck-period-valid.html spellcheck-period-valid-ref.html
Index: firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/text/reftest.list
===================================================================
--- firefox-trunk-20.0~a1~hg20121121r113867.orig/layout/reftests/text/reftest.list	2012-11-21 23:22:23.000000000 +0000
+++ firefox-trunk-20.0~a1~hg20121121r113867/layout/reftests/text/reftest.list	2012-11-23 01:18:30.145925248 +0000
@@ -105,7 +105,7 @@
 == wordbreak-1.html wordbreak-1-ref.html
 == wordbreak-2.html wordbreak-2-ref.html
 == wordbreak-3.html wordbreak-3-ref.html
-== wordbreak-4a.html wordbreak-4a-ref.html
+fails == wordbreak-4a.html wordbreak-4a-ref.html
 == wordbreak-4b.html wordbreak-4b-ref.html
 == wordbreak-5.html wordbreak-5-ref.html
 == wordbreak-6.html wordbreak-6-ref.html
@@ -194,40 +194,40 @@
 == auto-hyphenation-8.html auto-hyphenation-4-ref.html
 == auto-hyphenation-9.html auto-hyphenation-4-ref.html
 == auto-hyphenation-10.html auto-hyphenation-4-ref.html
-== auto-hyphenation-af-1.html auto-hyphenation-af-1-ref.html
-== auto-hyphenation-bg-1.html auto-hyphenation-bg-1-ref.html
-== auto-hyphenation-ca-1.html auto-hyphenation-ca-1-ref.html
-== auto-hyphenation-cy-1.html auto-hyphenation-cy-1-ref.html
-== auto-hyphenation-da-1.html auto-hyphenation-da-1-ref.html
-== auto-hyphenation-de-1901-1.html auto-hyphenation-de-1901-1-ref.html
-== auto-hyphenation-de-1996-1.html auto-hyphenation-de-1996-1-ref.html
-!= auto-hyphenation-de-1901-1.html auto-hyphenation-de-1996-1.html
-== auto-hyphenation-de-ch-1.html auto-hyphenation-de-ch-1-ref.html
-== auto-hyphenation-eo-1.html auto-hyphenation-eo-1-ref.html
-== auto-hyphenation-es-1.html auto-hyphenation-es-1-ref.html
-== auto-hyphenation-et-1.html auto-hyphenation-et-1-ref.html
-== auto-hyphenation-fi-1.html auto-hyphenation-fi-1-ref.html
-== auto-hyphenation-fr-1.html auto-hyphenation-fr-1-ref.html
-== auto-hyphenation-gl-1.html auto-hyphenation-gl-1-ref.html
-== auto-hyphenation-hr-1.html auto-hyphenation-hr-1-ref.html
-== auto-hyphenation-hsb-1.html auto-hyphenation-hsb-1-ref.html
-== auto-hyphenation-hu-1.html auto-hyphenation-hu-1-ref.html
-== auto-hyphenation-ia-1.html auto-hyphenation-ia-1-ref.html
-== auto-hyphenation-is-1.html auto-hyphenation-is-1-ref.html
-== auto-hyphenation-it-1.html auto-hyphenation-it-1-ref.html
-== auto-hyphenation-kmr-1.html auto-hyphenation-kmr-1-ref.html
-== auto-hyphenation-la-1.html auto-hyphenation-la-1-ref.html
-== auto-hyphenation-lt-1.html auto-hyphenation-lt-1-ref.html
-== auto-hyphenation-mn-1.html auto-hyphenation-mn-1-ref.html
-== auto-hyphenation-nb-1.html auto-hyphenation-nb-1-ref.html
-== auto-hyphenation-nl-1.html auto-hyphenation-nl-1-ref.html
-== auto-hyphenation-nn-1.html auto-hyphenation-nn-1-ref.html
-== auto-hyphenation-pt-1.html auto-hyphenation-pt-1-ref.html
-== auto-hyphenation-ru-1.html auto-hyphenation-ru-1-ref.html
-== auto-hyphenation-sh-1.html auto-hyphenation-sh-1-ref.html
-== auto-hyphenation-sl-1.html auto-hyphenation-sl-1-ref.html
-== auto-hyphenation-sr-1.html auto-hyphenation-sr-1-ref.html
-== auto-hyphenation-sv-1.html auto-hyphenation-sv-1-ref.html # test swedish patterns
-!= auto-hyphenation-sv-1.html auto-hyphenation-sv-1-notref.html # verify swedish != english
-== auto-hyphenation-tr-1.html auto-hyphenation-tr-1-ref.html
-== auto-hyphenation-uk-1.html auto-hyphenation-uk-1-ref.html
+fails == auto-hyphenation-af-1.html auto-hyphenation-af-1-ref.html
+fails == auto-hyphenation-bg-1.html auto-hyphenation-bg-1-ref.html
+fails == auto-hyphenation-ca-1.html auto-hyphenation-ca-1-ref.html
+fails == auto-hyphenation-cy-1.html auto-hyphenation-cy-1-ref.html
+fails == auto-hyphenation-da-1.html auto-hyphenation-da-1-ref.html
+fails == auto-hyphenation-de-1901-1.html auto-hyphenation-de-1901-1-ref.html
+fails == auto-hyphenation-de-1996-1.html auto-hyphenation-de-1996-1-ref.html
+fails != auto-hyphenation-de-1901-1.html auto-hyphenation-de-1996-1.html
+fails == auto-hyphenation-de-ch-1.html auto-hyphenation-de-ch-1-ref.html
+fails == auto-hyphenation-eo-1.html auto-hyphenation-eo-1-ref.html
+fails == auto-hyphenation-es-1.html auto-hyphenation-es-1-ref.html
+fails == auto-hyphenation-et-1.html auto-hyphenation-et-1-ref.html
+fails == auto-hyphenation-fi-1.html auto-hyphenation-fi-1-ref.html
+fails == auto-hyphenation-fr-1.html auto-hyphenation-fr-1-ref.html
+fails == auto-hyphenation-gl-1.html auto-hyphenation-gl-1-ref.html
+fails == auto-hyphenation-hr-1.html auto-hyphenation-hr-1-ref.html
+fails == auto-hyphenation-hsb-1.html auto-hyphenation-hsb-1-ref.html
+fails == auto-hyphenation-hu-1.html auto-hyphenation-hu-1-ref.html
+fails == auto-hyphenation-ia-1.html auto-hyphenation-ia-1-ref.html
+fails == auto-hyphenation-is-1.html auto-hyphenation-is-1-ref.html
+fails == auto-hyphenation-it-1.html auto-hyphenation-it-1-ref.html
+fails == auto-hyphenation-kmr-1.html auto-hyphenation-kmr-1-ref.html
+fails == auto-hyphenation-la-1.html auto-hyphenation-la-1-ref.html
+fails == auto-hyphenation-lt-1.html auto-hyphenation-lt-1-ref.html
+fails == auto-hyphenation-mn-1.html auto-hyphenation-mn-1-ref.html
+fails == auto-hyphenation-nb-1.html auto-hyphenation-nb-1-ref.html
+fails == auto-hyphenation-nl-1.html auto-hyphenation-nl-1-ref.html
+fails == auto-hyphenation-nn-1.html auto-hyphenation-nn-1-ref.html
+fails == auto-hyphenation-pt-1.html auto-hyphenation-pt-1-ref.html
+fails == auto-hyphenation-ru-1.html auto-hyphenation-ru-1-ref.html
+fails == auto-hyphenation-sh-1.html auto-hyphenation-sh-1-ref.html
+fails == auto-hyphenation-sl-1.html auto-hyphenation-sl-1-ref.html
+fails == auto-hyphenation-sr-1.html auto-hyphenation-sr-1-ref.html
+fails == auto-hyphenation-sv-1.html auto-hyphenation-sv-1-ref.html # test swedish patterns
+fails != auto-hyphenation-sv-1.html auto-hyphenation-sv-1-notref.html # verify swedish != english
+fails == auto-hyphenation-tr-1.html auto-hyphenation-tr-1-ref.html
+fails == auto-hyphenation-uk-1.html auto-hyphenation-uk-1-ref.html
